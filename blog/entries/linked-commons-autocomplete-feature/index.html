<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico">
<link rel="stylesheet" href="/static/gen/style.css">
<link rel="stylesheet" href="/static/pygments.css">
<meta property="og:site_name" content="Creative Commons" />
<meta property="og:title" content="Linked Commons: Autocomplete Feature" />



<meta property="og:description" content="IntroductionThe following blog intends to explain the very recent feature integrated to the Linked Commons. Be it the giant Google Search or any small website having a form field, everyone wishes to predict what’s on the user’s mind. For every keystroke, a nice search bar always renders some possible options the user could be looking for. The core ideology behind having this feature is — do as much work as possible for the user!" />


<meta property="og:url" content="/blog/entries/linked-commons-autocomplete-feature/" />
<meta property="og:type" content="article" />


<meta property="og:image" content="http://opensource.creativecommons.org/blog/entries/linked-commons-autocomplete-feature/autocomplete-feat-in-action.gif" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Linked Commons: Autocomplete Feature">
<meta name="twitter:description" content="IntroductionThe following blog intends to explain the very recent feature integrated to the Linked Commons. Be it the giant Google Search or any small website having a form field, everyone wishes to predict what’s on the user’s mind. For every keystroke, a nice search bar always renders some possible options the user could be looking for. The core ideology behind having this feature is — do as much work as possible for the user!">

<meta name="twitter:image" content="http://opensource.creativecommons.org/blog/entries/linked-commons-autocomplete-feature/autocomplete-feat-in-action.gif">

<meta name="twitter:site" content="@creativecommons">
<meta name="twitter:creator" content="@creativecommons">
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
  integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
  integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script type="text/javascript" src="/static/gen/script.js"></script>
<script src="https://unpkg.com/@creativecommons/vocabulary@2020.7.2/js/vocabulary.js"></script>
<script>
  const globalHeaderInstance = vocabulary.createGlobalHeader();
</script>
<title>Linked Commons: Autocomplete Feature — Creative Commons on GitHub</title>

<body>
  <div class="ga-script">
<div id="ga-script"></div>
<script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-2010376-37', 'auto');
        ga('send', 'pageview');
</script>
</div>

  <!-- Header -->
  <header class="container">
    <nav class="navbar">
      <div class="navbar-brand">
        <a class="has-text-black" href="/">
          <svg
            class="logo margin-top-small"
            xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 284 46">
            <use href="#opensource"></use>
          </svg>
        </a>
        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>
      <div class="navbar-menu">
        <div class="navbar-end">
          <a class="navbar-item  is-active" href="/blog/">
            Blog
          </a>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link is-arrowless ">
              Contribute<i class="icon caret-down"></i></a>
            <div class="navbar-dropdown">
              
                <a class="navbar-item" href="/contributing-code/">Contribution Guidelines</a>
              
                <a class="navbar-item" href="/contributing-code/projects/">Project List</a>
              
                <a class="navbar-item" href="/contributing-code/pr-guidelines/">Pull Request Guidelines</a>
              
                <a class="navbar-item" href="/contributing-code/github-repo-guidelines/">GitHub Repo Guidelines</a>
              
                <a class="navbar-item" href="/contributing-code/usability/">Usability</a>
              
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link is-arrowless ">
              Community<i class="icon caret-down"></i></a>
            <div class="navbar-dropdown is-active">
              
                <a class="navbar-item" href="/community/">Join the Community</a>
              
                <a class="navbar-item" href="/community/community-team/">Community Team</a>
              
                <a class="navbar-item" href="/community/community-team/members/">Community Team Members</a>
              
                <a class="navbar-item" href="/community/community-team/project-roles/">Project Roles</a>
              
                <a class="navbar-item" href="/community/community-team/community-building-roles/">Community Building Roles</a>
              
                <a class="navbar-item" href="/community/write-a-blog-post/">Write a Blog Post</a>
              
                <a class="navbar-item" href="/community/code-of-conduct/">Code of Conduct</a>
              
                <a class="navbar-item" href="/community/code-of-conduct/enforcement/">Code of Conduct Enforcement</a>
              
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link is-arrowless ">
              Internships<i class="icon caret-down"></i></a>
            <div class="navbar-dropdown">
              
                <a class="navbar-item" href="/internships/">Overview</a>
              
                <a class="navbar-item" href="/internships/project-ideas/">Project Ideas</a>
              
                <a class="navbar-item" href="/internships/applicant-guide/">Applicant Guide</a>
              
                <a class="navbar-item" href="/internships/intern-guide/">Intern Guide</a>
              
                <a class="navbar-item" href="/internships/mentor-guide/">Mentor Guide</a>
              
                <a class="navbar-item" href="/internships/history/">History</a>
              
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link is-arrowless ">
              CC Search<i class="icon caret-down"></i></a>
            <div class="navbar-dropdown">
              
                <a class="navbar-item" href="/cc-search/">Overview &amp; Roadmap</a>
              
                <a class="navbar-item" href="/cc-search/contribution-guide/">Contribution Guide</a>
              
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link is-arrowless ">Archives<i
                class="icon caret-down"></i></a>
            <div class="navbar-dropdown is-right">
              
              <a class="navbar-item" href="/archives/old-tech-blog">CC Tech Blog (2007-2014)</a>
              
              <a class="navbar-item" href="https://lists.ibiblio.org/pipermail/cc-devel/">cc-devel mailing list (2005-2015)</a>
              
            </div>
          </div>
        </div> 
      </div>
    </nav>
  </header>

  <!-- Breadcrumb -->
  
    <div class="breadcrumb-container">
      <nav class="container breadcrumb caption bold" aria-label="breadcrumbs">
        <ul>
          
          
          <!-- Extracting the slugs of URL -->
          
            
              
              
            
          
            
              
              
            
          
            
              
              
            
          
            
              
              
            
          
          
            <!-- Active link -->
            
              <!-- Forming the URL using extracted slugs -->
              
              
              
                
              
              <li><a class="link" href="/">
              
                Home
              
              </a></li>
            
          
            <!-- Active link -->
            
              <!-- Forming the URL using extracted slugs -->
              
              
              
                
              
                
              
              <li><a class="link" href="/blog/">
              
                Blog
              
              </a></li>
            
          
            <!-- Active link -->
            
              <!-- Forming the URL using extracted slugs -->
              
              
              
                
              
                
              
                
              
              <li><a class="link" href="/blog/entries/">
              
                Entries
              
              </a></li>
            
          
            <!-- Active link -->
            
              <li class="is-active"><a aria-current="page displayed">Linked Commons Autocomplete Feature</a></li>
            
          
        </ul>
      </nav>
    </div>
  

  <!-- Body -->
  
  <div class="single-post">
    <header class="single-post-header">
      <div class="container">
        <h4>CC Open Source Blog</h4>
        <h2 class="title">Linked Commons: Autocomplete Feature</h2>
        
        <div class="author columns is-marginless">
          <figure class="image profile">
            <img src="https://secure.gravatar.com/avatar/1ca2562f3046509e3273fe5afd3fdab2?size=200&d=mp" alt="gravatar" class="profile" />
          </figure>
          <p class="column">by <a href="/blog/authors/subhamX/">
  Subham Sahu
</a>
          on 2020-07-31</p>
        </div>
        
          
          <div class="series-header">
            <span>This blog is part of the series:</span>
            <a href="#series">GSoC 2020: The Linked Commons</a>
          </div>
        
      </div>
    </header>
    <div class="single-post-body content container">
      <h2 id="introduction">Introduction</h2><p>The following blog intends to explain the very recent feature integrated to the Linked Commons. Be it the giant Google Search or any small website having a form field, everyone wishes to predict what’s on the user’s mind. For every keystroke, a nice search bar always renders some possible options the user could be looking for. The core ideology behind having this feature is — <em>do as much work as possible for the user!</em></p>
<div style="text-align: center; width: 100%;">
    <figure>
        <img src="autocomplete-feat-in-action.gif" alt="autocomplete-feature" style="border: 1px solid black">
        <figcaption style="font-weight: 500;">Autocomplete feature in action</figcaption>
    </figure>
</div><h2 id="motivation">Motivation</h2><p>One of the newest features integrated last month into Linked Commons is Filtering by node name. Here a user can search for his/her favourite node and explore all its neighbours. Since the list is very big, it was self-evident for us to have a text box (and not a drop-down) where the user is supposed to type the node name.</p>
<p>Some of the reasons why to have "autocomplete feature" in the filtering by node name -</p>
<ul>
<li>Some of the node names are very uncommon and lengthy. There is a high probability of misspelling it.</li>
<li>Submitting the form and getting a response of “Node doesn’t exist” isn’t a very good user flow, and we want to minimise such incidents.</li>
</ul>
<p>Also, on a side note giving a search bar to the user and giving no hints is ruthless. We all need recommendations and guess what linked commons got you covered! Now for every keystroke, we load a bunch of node names which you might be looking for. ;)</p>
<h2 id="problem">Problem</h2><p>The autocomplete feature on a very basic level aims to predict the rest of a word the user is typing. A possible implementation is though the linear traversal of all the nodes in the list. It will be having a <strong>linear time complexity</strong>. It’s not very good and it’s very obvious to look for a faster and more efficient way. Also, even if for once we neglect the <strong>time complexity</strong>, looking for the best 10 nodes out of these millions on the client's machine is not at all a good idea; it will cause throttling and will result in performance drops. 
On the other hand, a <strong>trie based solution</strong> is more efficient for sure but still, we cannot do this indexing on the client machine for the same reasons stated above.
So far, it is now apparent that we implement this feature on the server and also aim for at least something better than linear time complexity.</p>
<h2 id="a-non-conventional-solution">A non-conventional solution</h2><p>We could have used Elastic Search, which is very powerful and has a ton of functionalities but since our needs are very small we wanted to look for other simple alternatives. Moreover, we didn't want to complicate our current architecture by adding an additional framework and libraries.</p>
<p>Taking the above points into consideration we went ahead with the following solution. We store all nodes data into an SQL dB and search for all the nodes whose domain name pattern was matching to the query string. After slicing the query set and other randomization we sent the payload to the client. To make it more robust, we are caching the results in the frontend to avoid multiple calls for the same query. It will surely reduce the load from the server and also give a faster response.</p>
<h2 id="results">Results</h2><p>To make sure our solution works well, we performed load tests, checking that any response time does not exceed 1000 ms. We used locust which is a user load testing tool. We simulated with <strong>1000 users</strong> and <strong>10 as Hatch rate</strong>. 
The following test is performed on the local machine to ensure that the server location isn’t affecting the results.</p>
<p>Here are some aggregated result statistics.</p>
<table class="table table-striped">
<thead class="thead-dark"><tr>
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Request Count</td>
<td><strong> 23323     </strong></td>
</tr>
<tr>
<td>Failure Count</td>
<td><strong>  0        </strong></td>
</tr>
<tr>
<td>Median Response Time</td>
<td><strong> 360 ms    </strong></td>
</tr>
<tr>
<td>Average Response Time</td>
<td><strong> 586.289 ms</strong></td>
</tr>
<tr>
<td>Min Response Time</td>
<td><strong> 4.03094 ms</strong></td>
</tr>
<tr>
<td>Max Response Time</td>
<td><strong> 4216 ms   </strong></td>
</tr>
<tr>
<td>Average Content Size</td>
<td><strong> 528.667 ms</strong></td>
</tr>
<tr>
<td>Requests/s</td>
<td><strong> 171.754   </strong></td>
</tr>
<tr>
<td>Max Requests/s</td>
<td><strong> 214       </strong></td>
</tr>
<tr>
<td>Failures/s</td>
<td><strong> 0         </strong></td>
</tr>
</tbody>
</table>
<h2 id="next-steps">Next steps</h2><p>In the next blog, we will be covering the long awaited data update and the new architecture.</p>
<h2 id="conclusion">Conclusion</h2><p>Overall, I enjoyed working on this feature and it was a great learning experience. This feature has been successfully integrated to the development version, do check it out. Now that you have read this blog till the end, I hope that you enjoyed it. For more information please visit our <a href="https://github.com/creativecommons/cccatalog-dataviz/">Github repo</a>. We are looking forward to hearing from you on linked commons. Our <a href="https://creativecommons.slack.com/channels/cc-dev-cc-catalog-viz">slack</a> doors are always open to you, see you there. :)</p>

    </div>
    <footer class="single-post-footer container">
      <div class="category">
        <h4 class="category-title">Categories</h4>
        <div class="categories">
          
            
              
              
              <a class="button tag" href=" /blog/categories/announcements/ ">announcements</a>
            
              
              
              <a class="button tag" href=" /blog/categories/cc-catalog/ ">cc-catalog</a>
            
              
              
              <a class="button tag" href=" /blog/categories/product/ ">product</a>
            
              
              
              <a class="button tag" href=" /blog/categories/gsoc/ ">gsoc</a>
            
              
              
              <a class="button tag" href=" /blog/categories/gsoc-2020/ ">gsoc-2020</a>
            
              
              
              <a class="button tag" href=" /blog/categories/open-source/ ">open-source</a>
            
              
              
              <a class="button tag" href=" /blog/categories/cc-dataviz/ ">cc-dataviz</a>
            
          
        </div>
      </div>
      
        <div class="series-posts" id="series">
          <h5 class="title">Posts in the GSoC 2020: The Linked Commons series</h5>
          <ul class="posts">
            
              
                <li>
                  <i class="icon circle-filled"></i><a href="/blog/entries/linked-commons-whats-new/">Linked Commons: What&#39;s new?</a>
                </li>
              
            
              
                <li class="has-color-dark-slate-gray">
                  <i class="icon circle-filled"></i>Linked Commons: Autocomplete Feature
                </li>
              
            
              
                <li>
                  <i class="icon circle-filled"></i><a href="/blog/entries/linked-commons-data-update/">Linked Commons: Data Update</a>
                </li>
              
            
          </ul>
        </div>
      
      <div class="comments">
<div id="disqus_thread"></div>
<script>
  var disqus_config = function() { this.page.identifier = "/blog/entries/linked-commons-autocomplete-feature"; this.page.url = "http://opensource.creativecommons.org/blog/entries/linked-commons-autocomplete-feature/"; };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = '//cc-open-source.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>
  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript"
    rel="nofollow">comments powered by Disqus.</a>
</noscript>
</div>
    </footer>
  </div>


  <!-- Footer -->
  <footer class="main-footer">
    <div class="container">
      <div class="columns">
        <div class="column is-one-quarter">
          <a href="https://creativecommons.org" class="main-logo margin-bottom-bigger">
            <span class="has-text-white">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid meet"
                viewBox="0 0 304 73">
                <use href="#logomark"></use>
              </svg>
            </span>
          </a>
          <div>
            <address class="margin-bottom-normal">Creative Commons<br />PO Box 1866, Mountain View CA 94042</address>
            <a href="mailto:info@creativecommons.org" class="mail">info@creativecommons.org</a><br />
            <a href="tel://+1-415-429-6753" class="phone">+1-415-429-6753</a>
          </div>
          <div class="margin-vertical-large">
            <a href="https://www.instagram.com/creativecommons" class="social has-text-white" target="_blank"
              rel="noopener">
              <i class="icon margin-right-small is-size-4">instagram</i>
            </a>
            <a href="https://www.twitter.com/creativecommons" class="social has-text-white" target="_blank"
              rel="noopener">
              <i class="icon margin-right-small is-size-4">twitter</i>
            </a>
            <a href="https://www.facebook.com/creativecommons" class="social has-text-white" target="_blank"
              rel="noopener">
              <i class="icon margin-right-small is-size-4">facebook</i>
            </a>
            <a href="https://www.linkedin.com/company/creative-commons/" class="social has-text-white" target="_blank"
              rel="noopener">
              <i class="icon margin-right-small is-size-4">linkedin</i>
            </a>
          </div>
        </div>
        <div class="column is-three-quarters">
          <div class="columns">
            <div class="column is-full">
              <nav class="footer-navigation">
                <ul class="menu">
                  <li>
                    <a href="/blog/" class="menu-item">Blog</a>
                  </li>
                  <li>
                    <a href="/contributing-code/" class="menu-item">Contribution Guidelines</a>
                  </li>
                  <li>
                    <a href="/community/community-team/" class="menu-item">Community Team</a>
                  </li>
                  <li>
                    <a href="/contributing-code/projects/" class="menu-item">Project List</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
          <div class="columns">
            <div class="column is-two-thirds">
              <div class="subscription">
                <h5 class="b-header">Subscribe to our newsletter</h5>
                <form class="newsletter">
                  <input type="text" class="input" placeholder="Your email">
                  <input type="submit" value="subscribe" class="button small">
                </form>
              </div>
              <div class="attribution margin-top-bigger">
                <p class="caption">
                  Except where otherwise
                  <a href="https://creativecommons.org/policies#license" target="_blank" rel="noopener">noted</a>,
                  content on this site is licensed under a
                  <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">Creative Commons
                    Attribution 4.0 International license</a>.
                  <a href="https://creativecommons.org/website-icons" target="_blank" rel="noopener">Icons</a>
                  by
                  <a href="https://fontawesome.com/" target="_blank" rel="noopener">Font Awesome</a>.
                </p>
                <div class="margin-top-smaller">
                  <i class="icon margin-right-small is-size-4">cclogo</i>
                  <i class="icon margin-right-small is-size-4">ccby</i>
                </div>
              </div>
            </div>
            <div class="column is-one-third">
              <aside class="donate-section">
                <h5>Our work relies on you!</h5>
                <p>Help us keep the internet free and open.</p>
                <a class="button small donate" href="http://creativecommons.org/donate">
                  <i class="icon cc-letterheart margin-right-small is-size-5 padding-top-smaller"></i>
                  Donate now
                </a>
              </aside>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
</body>
